<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FiberLog - GoErrorKit Demo with Multi-Layer Architecture</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f8f9fa;
            color: #212529;
        }
        .header {
            text-align: center;
            margin-bottom: 50px;
        }
        .header h1 {
            color: #FF6B6B;
            font-size: 3em;
            margin-bottom: 10px;
        }
        .header p {
            color: #6c757d;
            font-size: 1.2em;
        }
        .section {
            background: white;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section h2 {
            color: #495057;
            border-bottom: 2px solid #FF6B6B;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .section p {
            color: #6c757d;
            margin-bottom: 20px;
        }
        .error-list {
            list-style: none;
            display: grid;
            gap: 15px;
        }
        .error-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 6px;
            transition: background 0.2s;
        }
        .error-item:hover {
            background: #e9ecef;
        }
        .error-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: inherit;
        }
        .error-desc {
            color: #6c757d;
            margin-top: 8px;
            font-size: 0.9em;
            line-height: 1.5;
        }
        .method {
            font-weight: bold;
            color: white;
            padding: 4px 12px;
            border-radius: 4px;
            margin-right: 12px;
            background: #0d6efd;
            min-width: 45px;
            text-align: center;
        }
        .method-get { background: #0d6efd; }
        .method-post { background: #0d6efd; }
        .method-delete { background: #0d6efd; }
        .path {
            flex: 1;
            font-family: 'Courier New', monospace;
            color: #495057;
        }
        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            font-weight: 600;
            margin-left: 8px;
        }
        .badge-panic { background: #dc3545; color: white; }
        .badge-4xx { background: #ffc107; color: #333; }
        .badge-5xx { background: #dc3545; color: white; }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }
        .note strong {
            color: #856404;
        }
        a {
            text-decoration: none;
            color: inherit;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            animation: fadeIn 0.3s;
        }
        .modal-content {
            background-color: #fff;
            margin: 5% auto;
            padding: 0;
            border-radius: 8px;
            width: 80%;
            max-width: 700px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            animation: slideDown 0.3s;
        }
        .modal-header {
            padding: 20px;
            background: #FF6B6B;
            color: white;
            border-radius: 8px 8px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-header h3 {
            margin: 0;
            font-size: 1.3em;
        }
        .close {
            color: white;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }
        .close:hover {
            opacity: 0.7;
        }
        .modal-body {
            padding: 25px;
            max-height: 500px;
            overflow-y: auto;
        }
        .response-box {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            white-space: pre-wrap;
            word-wrap: break-word;
            border-left: 4px solid #0d6efd;
        }
        .status-success {
            border-left-color: #28a745;
        }
        .status-error {
            border-left-color: #dc3545;
        }
        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #FF6B6B;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .clickable {
            cursor: pointer;
        }
        .clickable:hover {
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üöÄ FiberLog - GoErrorKit Demo</h1>
        <p>Demo GoErrorKit v·ªõi Multi-Layer Architecture - Error tracking t·ª´ Service Layer ƒë·∫øn API Layer</p>
    </div>
    
    <div class="section">
        <h2>‚ö° Panic Errors (Recovered)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/panic/division" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/panic/division</span>
                        <span class="badge badge-panic">PANIC</span>
                    </a>
                    <div class="error-desc">
                        ‚ùå L·ªói chia cho 0 - Demo panic recovery v·ªõi l·ªói runtime c∆° b·∫£n
                    </div>
                </li>
                <li class="error-item">
                    <a href="/panic/index" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/panic/index</span>
                        <span class="badge badge-panic">PANIC</span>
                    </a>
                    <div class="error-desc">
                        ‚ùå Index out of range - Demo panic khi truy c·∫≠p m·∫£ng ngo√†i ph·∫°m vi
                    </div>
                </li>
                <li class="error-item">
                    <a href="/panic/stack" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/panic/stack</span>
                        <span class="badge badge-panic">PANIC</span>
                    </a>
                    <div class="error-desc">
                        ‚ùå Deep call stack - Demo panic trong chu·ªói g·ªçi h√†m nhi·ªÅu t·∫ßng (X‚ÜíY‚ÜíZ‚ÜíW‚ÜíGetElement)
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>üì¶ Service Layer Errors - Demo GoErrorKit v·ªõi Package kh√°c</h2>
        <p>
            ‚ú® <strong>Errors ƒë∆∞·ª£c throw t·ª´ <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">services/</code> package</strong> - 
            GoErrorKit s·∫Ω b√°o ch√≠nh x√°c file, line, function n∆°i l·ªói x·∫£y ra!
        </p>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/product/999" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/product/999</span>
                        <span class="badge badge-4xx">404</span>
                    </a>
                    <div class="error-desc">
                        üîç <strong>BusinessError t·ª´ ProductService.GetProduct</strong><br>
                        S·∫£n ph·∫©m kh√¥ng t·ªìn t·∫°i ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">services/product_service.go</code>
                    </div>
                </li>
                <li class="error-item">
                    <a href="/product/123/check-stock" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/product/123/check-stock</span>
                        <span class="badge badge-4xx">400</span>
                    </a>
                    <div class="error-desc">
                        üìâ <strong>BusinessError t·ª´ ProductService.CheckStock</strong><br>
                        S·∫£n ph·∫©m h·∫øt h√†ng (iPhone 15) ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">CheckStock function</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/product/456/reserve?quantity=10" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/product/456/reserve?quantity=10</span>
                        <span class="badge badge-4xx">400</span>
                    </span>
                    <div class="error-desc">
                        ‚ö†Ô∏è <strong>ValidationError t·ª´ ProductService.ReserveProduct</strong><br>
                        Kh√¥ng ƒë·ªß h√†ng (y√™u c·∫ßu 10, ch·ªâ c√≤n 5) ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">ReserveProduct function</code><br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X POST "http://localhost:8081/product/456/reserve?quantity=10"</code>
                    </div>
                </li>
                <li class="error-item">
                    <a href="/product/456/discount?percent=150" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/product/456/discount?percent=150</span>
                        <span class="badge badge-4xx">400</span>
                    </a>
                    <div class="error-desc">
                        üíØ <strong>ValidationError t·ª´ ProductService.CalculateDiscount</strong><br>
                        Ph·∫ßn trƒÉm gi·∫£m gi√° kh√¥ng h·ª£p l·ªá (max 100) ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">CalculateDiscount function</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/order/create?product_id=123&quantity=1" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/order/create?product_id=123&quantity=1</span>
                        <span class="badge badge-4xx">400</span>
                    </span>
                    <div class="error-desc">
                        üõí <strong>Error propagate qua OrderService</strong><br>
                        OrderService ‚Üí ProductService ‚Üí CheckStock (h·∫øt h√†ng) ‚Üí Error t·ª´ deep call stack<br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X POST "http://localhost:8081/order/create?product_id=123&quantity=1"</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/order/create?product_id=456&quantity=0" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/order/create?product_id=456&quantity=0</span>
                        <span class="badge badge-4xx">400</span>
                    </span>
                    <div class="error-desc">
                        üî¢ <strong>ValidationError t·ª´ OrderService.CreateOrder</strong><br>
                        S·ªë l∆∞·ª£ng ph·∫£i > 0 ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">services/order_service.go</code><br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X POST "http://localhost:8081/order/create?product_id=456&quantity=0"</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/order/ORD-shipped/cancel" data-method="DELETE">
                        <span class="method method-delete">DELETE</span>
                        <span class="path">/order/ORD-shipped/cancel</span>
                        <span class="badge badge-4xx">400</span>
                    </span>
                    <div class="error-desc">
                        üö´ <strong>BusinessError t·ª´ OrderService.CancelOrder</strong><br>
                        Kh√¥ng th·ªÉ h·ªßy ƒë∆°n ƒë√£ ship ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">CancelOrder function</code><br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X DELETE "http://localhost:8081/order/ORD-shipped/cancel"</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/order/ORD-invalid-card/payment?amount=100" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/order/ORD-invalid-card/payment?amount=100</span>
                        <span class="badge badge-5xx">502</span>
                    </span>
                    <div class="error-desc">
                        üí≥ <strong>ExternalError t·ª´ deep call stack</strong><br>
                        OrderService ‚Üí callPaymentGateway ‚Üí Th·∫ª kh√¥ng h·ª£p l·ªá ‚Üí Error t·ª´ private function<br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X POST "http://localhost:8081/order/ORD-invalid-card/payment?amount=100"</code>
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/order/ORD-123/payment?amount=20000" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/order/ORD-123/payment?amount=20000</span>
                        <span class="badge badge-5xx">504</span>
                    </span>
                    <div class="error-desc">
                        ‚è±Ô∏è <strong>ExternalError - Payment Gateway Timeout</strong><br>
                        Giao d·ªãch qu√° l·ªõn c·∫ßn x√°c nh·∫≠n ‚Üí Error t·ª´ <code style="background:#e9ecef;padding:2px 4px;border-radius:3px;">callPaymentGateway</code><br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">curl -X POST "http://localhost:8081/order/ORD-123/payment?amount=20000"</code>
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>üíº Business Errors - Basic (4xx)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/business?product_id=123" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/business?product_id=123</span>
                        <span class="badge badge-4xx">404</span>
                    </a>
                    <div class="error-desc">
                        üõí L·ªói business logic - S·∫£n ph·∫©m h·∫øt h√†ng (g·ªçi service layer)
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>‚úÖ Validation Errors (400)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/validation" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/validation</span>
                        <span class="badge badge-4xx">400</span>
                    </a>
                    <div class="error-desc">
                        üìù Thi·∫øu query param - Th·ª≠ th√™m ?age=25 ƒë·ªÉ th√†nh c√¥ng, ?age=15 s·∫Ω l·ªói (tu·ªïi < 18)
                    </div>
                </li>
                <li class="error-item">
                    <span class="error-link" data-url="/error/validation-body" data-method="POST">
                        <span class="method method-post">POST</span>
                        <span class="path">/error/validation-body</span>
                        <span class="badge badge-4xx">400</span>
                    </span>
                    <div class="error-desc">
                        üìù Validation request body - Click ƒë·ªÉ test validation body (g·ª≠i body r·ªóng ƒë·ªÉ test error)<br>
                        <code style="background:#e9ecef;padding:2px 6px;border-radius:3px;">
                        Ho·∫∑c: curl -X POST http://localhost:8081/error/validation-body -H "Content-Type: application/json" -d '{"name":"John","email":"john@test.com","age":25}'
                        </code>
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>üîê Authentication/Authorization Errors (401-403)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/auth" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/auth</span>
                        <span class="badge badge-4xx">401</span>
                    </a>
                    <div class="error-desc">
                        üîí Thi·∫øu token - Th·ª≠ v·ªõi header: Authorization: Bearer valid-token-123 v√† X-User-Role: admin ƒë·ªÉ th√†nh c√¥ng
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>üåê External Service Errors (502-504)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/external?service=payment" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/external?service=payment</span>
                        <span class="badge badge-5xx">502</span>
                    </a>
                    <div class="error-desc">
                        üí≥ Payment gateway kh√¥ng ph·∫£n h·ªìi - Demo l·ªói t·ª´ external API
                    </div>
                </li>
                <li class="error-item">
                    <a href="/error/external?service=shipping" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/external?service=shipping</span>
                        <span class="badge badge-5xx">503</span>
                    </a>
                    <div class="error-desc">
                        üì¶ Shipping service ƒëang b·∫£o tr√¨ - Demo service unavailable
                    </div>
                </li>
                <li class="error-item">
                    <a href="/error/external?service=notification" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/external?service=notification</span>
                        <span class="badge badge-5xx">504</span>
                    </a>
                    <div class="error-desc">
                        üìß Notification service timeout - Demo gateway timeout
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>‚öôÔ∏è System Errors (500)</h2>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/system" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/system</span>
                        <span class="badge badge-5xx">500</span>
                    </a>
                    <div class="error-desc">
                        üóÑÔ∏è Database connection failed - Demo l·ªói h·ªá th·ªëng internal
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <h2>üîÑ Wrap Errors - GoErrorKit v0.1.5</h2>
        <p>
            ‚ú® <strong>C√°c h√†m m·ªõi trong GoErrorKit v0.1.5:</strong> Wrap errors t·ª´ th∆∞ vi·ªán b√™n th·ª© 3 ho·∫∑c standard library
            ƒë·ªÉ c√≥ ƒë·∫ßy ƒë·ªß th√¥ng tin logging v√† tracking!
        </p>
            <ul class="error-list">
                <li class="error-item">
                    <a href="/error/wrap" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/wrap</span>
                        <span class="badge badge-5xx">500</span>
                    </a>
                    <div class="error-desc">
                        üîÑ <strong>Wrap(err)</strong> - Wrap error c∆° b·∫£n<br>
                        Chuy·ªÉn error th√¥ng th∆∞·ªùng th√†nh GoErrorKit error ‚Üí T·ª± ƒë·ªông capture location v√† stack trace
                    </div>
                </li>
                <li class="error-item">
                    <a href="/error/wrap-message" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/wrap-message</span>
                        <span class="badge badge-5xx">500</span>
                    </a>
                    <div class="error-desc">
                        üí¨ <strong>WrapWithMessage(err, msg)</strong> - Th√™m Context<br>
                        Wrap error v√† th√™m message/context ƒë·ªÉ l√†m r√µ ng·ªØ c·∫£nh l·ªói x·∫£y ra
                    </div>
                </li>
                <li class="error-item">
                    <a href="/error/wrap-data" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/wrap-data</span>
                        <span class="badge badge-5xx">500</span>
                    </a>
                    <div class="error-desc">
                        üìä <strong>Wrap + WithData</strong> - Th√™m Metadata<br>
                        Wrap error v√† th√™m metadata (endpoint, method, user_id, retry_count...) ƒë·ªÉ debug d·ªÖ d√†ng h∆°n
                    </div>
                </li>
                <li class="error-item">
                    <a href="/error/wrap-callchain" class="error-link">
                        <span class="method method-get">GET</span>
                        <span class="path">/error/wrap-callchain</span>
                        <span class="badge badge-5xx">500</span>
                    </a>
                    <div class="error-desc">
                        üîó <strong>Wrap + WithCallChain</strong> - Debug Ph·ª©c T·∫°p<br>
                        Wrap error v√† th√™m call chain ƒë·ªÉ trace ƒë∆∞·ª£c flow c·ªßa error qua nhi·ªÅu function<br>
                        Demo: wrapWithCallChainHandler ‚Üí processUserData ‚Üí validateUserData/callExternalService
                    </div>
                </li>
            </ul>
        </div>

    <div class="section">
        <div class="note">
            <strong>üìå L∆∞u √Ω:</strong> T·∫•t c·∫£ l·ªói ƒë·ªÅu ƒë∆∞·ª£c x·ª≠ l√Ω t·ª± ƒë·ªông b·ªüi ErrorHandlerMiddleware 
            v√† log ra console v·ªõi ƒë·∫ßy ƒë·ªß th√¥ng tin (request_id, error_type, location, call_chain, etc.)
        </div>

        <div class="note" style="background: #d1ecf1; border-left-color: #0c5460; margin-top: 15px;">
            <strong style="color: #0c5460;">üéØ ƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa GoErrorKit:</strong><br>
            V·ªõi <strong>Service Layer Errors</strong> section ph√≠a tr√™n, errors ƒë∆∞·ª£c throw t·ª´ package <code style="background:#b8daff;padding:2px 6px;border-radius:3px;">services/</code> 
            nh∆∞ng GoErrorKit v·∫´n b√°o <strong>ch√≠nh x√°c</strong>:<br>
            ‚úÖ File: <code style="background:#b8daff;padding:2px 4px;border-radius:3px;">product_service.go</code> ho·∫∑c <code style="background:#b8daff;padding:2px 4px;border-radius:3px;">order_service.go</code><br>
            ‚úÖ Line number: D√≤ng th·ª±c s·ª± throw error<br>
            ‚úÖ Function: <code style="background:#b8daff;padding:2px 4px;border-radius:3px;">CheckStock</code>, <code style="background:#b8daff;padding:2px 4px;border-radius:3px;">ReserveProduct</code>, etc.<br>
            ‚úÖ Full call stack t·ª´ n∆°i error x·∫£y ra<br><br>
            üëâ Check file <code style="background:#b8daff;padding:2px 6px;border-radius:3px;">logs/errors.log</code> ƒë·ªÉ xem chi ti·∫øt!
        </div>
    </div>

    <!-- Modal ƒë·ªÉ hi·ªÉn th·ªã response -->
    <div id="responseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Response</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body" id="modalBody">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // H√†m g·ª≠i request (GET, POST, DELETE)
        async function sendRequest(url, method = 'GET') {
            const modal = document.getElementById('responseModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            // Hi·ªÉn th·ªã modal v·ªõi loading
            modal.style.display = 'block';
            modalTitle.textContent = `${method} ${url}`;
            modalBody.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Sending ${method} request...</p>
                </div>
            `;
            
            try {
                const response = await fetch(url, {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                const contentType = response.headers.get('content-type');
                let data;
                
                if (contentType && contentType.includes('application/json')) {
                    data = await response.json();
                } else {
                    data = await response.text();
                }
                
                // Hi·ªÉn th·ªã response
                const statusClass = response.ok ? 'status-success' : 'status-error';
                const statusEmoji = response.ok ? '‚úÖ' : '‚ùå';
                
                modalBody.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>${statusEmoji} Status:</strong> ${response.status} ${response.statusText}
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>üìÑ Response:</strong>
                    </div>
                    <div class="response-box ${statusClass}">
${typeof data === 'object' ? JSON.stringify(data, null, 2) : data}
                    </div>
                `;
            } catch (error) {
                modalBody.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>‚ùå Error:</strong> Failed to send request
                    </div>
                    <div class="response-box status-error">
${error.message}
                    </div>
                `;
            }
        }
        
        // ƒê√≥ng modal
        function closeModal() {
            document.getElementById('responseModal').style.display = 'none';
        }
        
        // ƒê√≥ng modal khi click outside
        window.onclick = function(event) {
            const modal = document.getElementById('responseModal');
            if (event.target === modal) {
                closeModal();
            }
        }
        
        // X·ª≠ l√Ω click tr√™n c√°c link
        document.addEventListener('DOMContentLoaded', function() {
            // Th√™m event listener cho c√°c link c√≥ data-url v√† data-method
            document.querySelectorAll('.error-link[data-url]').forEach(link => {
                const url = link.getAttribute('data-url');
                const method = link.getAttribute('data-method') || 'POST';
                
                // Th√™m class clickable
                link.classList.add('clickable');
                
                // Th√™m event listener
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    sendRequest(url, method);
                });
            });
            
            // C√°c link GET s·∫Ω m·ªü trong c√πng tab
        });
    </script>
</body>
</html>

